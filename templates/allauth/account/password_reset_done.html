{% extends "base.html" %}
{% load i18n %}
{% comment %} 
{% load i18n %}
{% load allauth %}
{% load account %}
{% block head_title %}
    {% trans "Password Reset" %}
{% endblock head_title %}
{% block content %}
    {% element h1 %}
        {% trans "Password Reset" %}
    {% endelement %}
    {% if user.is_authenticated %}
        {% include "account/snippets/already_logged_in.html" %}
    {% endif %}
    {% element p %}
        {% blocktrans %}We have sent you an email. If you have not received it please check your spam folder. Otherwise contact us if you do not receive it in a few minutes.{% endblocktrans %}
    {% endelement %}
{% endblock content %} {% endcomment %}
{% comment %} {% extends "account/base_entrance.html" %} {% endcomment %}
{% load i18n %}
{% load allauth %}
{% load account %}

{% block head_title %}
    {% trans "Password Reset" %}
{% endblock head_title %}

{% block content %}
<div class="min-h-screen bg-gray-900 py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-md mx-auto">
        <!-- Success Icon and Header -->
        <div class="text-center mb-8">
            <div class="mx-auto h-16 w-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mb-6 animate-pulse">
                <svg class="h-8 w-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                </svg>
            </div>
            {% element h1 class="text-3xl font-bold text-white mb-2" %}
                {% trans "Check Your Email" %}
            {% endelement %}
            <div class="h-1 w-20 bg-gradient-to-r from-green-500 to-emerald-500 mx-auto rounded-full"></div>
        </div>

        <!-- Main Content Card -->
        <div class="bg-gray-800 shadow-xl rounded-lg border border-gray-700 overflow-hidden">
            <div class="px-6 py-8">
                <!-- Already Logged In Check -->
                {% if user.is_authenticated %}
                    <div class="mb-6 bg-blue-900/30 border border-blue-600/50 rounded-lg p-4">
                        <div class="flex items-center">
                            <svg class="h-5 w-5 text-blue-400 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                            <div class="text-sm text-blue-300">
                                {% include "account/snippets/already_logged_in.html" %}
                            </div>
                        </div>
                    </div>
                {% endif %}

                <!-- Main Message -->
                <div class="text-center space-y-4">
                    <div class="bg-gray-700/50 rounded-lg p-6 border border-gray-600">
                        <svg class="h-12 w-12 text-green-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        {% element p class="text-gray-300 leading-relaxed" %}
                            {% blocktrans %}We have sent you an email with instructions to reset your password. If you have not received it, please check your spam folder. Otherwise, contact us if you do not receive it in a few minutes.{% endblocktrans %}
                        {% endelement %}
                    </div>

                    <!-- Action Steps -->
                    <div class="space-y-3 text-left">
                        <h3 class="text-lg font-semibold text-white mb-3 text-center">{% trans "Next Steps" %}</h3>
                        
                        <div class="flex items-start space-x-3 p-3 bg-gray-700/30 rounded-lg border border-gray-600/50">
                            <div class="flex-shrink-0 h-6 w-6 bg-blue-600 rounded-full flex items-center justify-center text-xs font-bold text-white">1</div>
                            <div class="text-sm text-gray-300">
                                <span class="font-medium text-white">{% trans "Check your email inbox" %}</span>
                                <p class="text-gray-400 mt-1">{% trans "Look for an email from our support team" %}</p>
                            </div>
                        </div>

                        <div class="flex items-start space-x-3 p-3 bg-gray-700/30 rounded-lg border border-gray-600/50">
                            <div class="flex-shrink-0 h-6 w-6 bg-yellow-600 rounded-full flex items-center justify-center text-xs font-bold text-white">2</div>
                            <div class="text-sm text-gray-300">
                                <span class="font-medium text-white">{% trans "Check spam folder" %}</span>
                                <p class="text-gray-400 mt-1">{% trans "Sometimes emails end up in spam or junk folders" %}</p>
                            </div>
                        </div>

                        <div class="flex items-start space-x-3 p-3 bg-gray-700/30 rounded-lg border border-gray-600/50">
                            <div class="flex-shrink-0 h-6 w-6 bg-green-600 rounded-full flex items-center justify-center text-xs font-bold text-white">3</div>
                            <div class="text-sm text-gray-300">
                                <span class="font-medium text-white">{% trans "Click the reset link" %}</span>
                                <p class="text-gray-400 mt-1">{% trans "Follow the instructions in the email to create a new password" %}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Bottom Accent -->
            <div class="h-1 bg-gradient-to-r from-green-500 via-blue-500 to-purple-500"></div>
        </div>

        <!-- Additional Actions -->
        <div class="mt-6 text-center space-y-4">
            <div class="bg-gray-800/50 border border-gray-700 rounded-lg p-4">
                <h4 class="text-sm font-medium text-gray-300 mb-2">{% trans "Still having trouble?" %}</h4>
                <div class="space-y-2">
                    <a href="{% url 'account_reset_password' %}" 
                       class="inline-flex items-center text-sm text-blue-400 hover:text-blue-300 transition duration-200">
                        <svg class="h-4 w-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                        </svg>
                        {% trans "Try sending the email again" %}
                    </a>
                    
                    <span class="text-gray-500 mx-2">â€¢</span>
                    
                    <a href="{% url 'account_login' %}" 
                       class="inline-flex items-center text-sm text-gray-400 hover:text-gray-300 transition duration-200">
                        <svg class="h-4 w-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"/>
                        </svg>
                        {% trans "Back to Login" %}
                    </a>
                </div>
            </div>
        </div>

        <!-- Estimated Time -->
        <div class="mt-4 text-center">
            <p class="text-xs text-gray-500 flex items-center justify-center">
                <svg class="h-3 w-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                {% trans "Email usually arrives within 2-5 minutes" %}
            </p>
        </div>
    </div>
</div>

<style>
/* Custom animations and effects */
@keyframes pulse-soft {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.8;
    }
}

.animate-pulse {
    animation: pulse-soft 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Enhanced focus states */
a:focus {
    outline: 2px solid rgba(59, 130, 246, 0.5);
    outline-offset: 2px;
    border-radius: 4px;
}

/* Smooth hover transitions */
.transition-all {
    transition-property: all;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 200ms;
}
</style>
{% endblock content %}